<div class="wrapper">
  <div class="calculator" [class.dark]="themeStore.darkMode()">
    <div class="overlay" [class.show]="historyVisible()" (click)="historyVisible.set(false)"></div>

    <app-calculator-topbar (historyToggled)="toggleHistory()" />

    <app-calculator-screen [expression]="expression()" [result]="display()" />

    <app-calculator-keypad
      (digitEntered)="enterDigit($event)"
      (operatorEntered)="enterOperator($event)"
      (dotEntered)="enterDot()"
      (equalsEntered)="enterEquals()"
      (percentEntered)="enterPercent()"
      (negativeSignEntered)="enterNegativeSign()"
      (cleared)="clear()"
      (deleted)="deleteEntry()"
    />

    <app-calculator-history [visible]="historyVisible()" [entries]="history()" />
  </div>
</div>
